@{
    ViewData["Title"] = "Chi tiết đơn hàng";
    int i = 1;
    decimal sum = 0;
}



<div class="head-title">
    <div class="left">
        <ul class="breadcrumb">
            <li>
                <a href="#">Dashboard</a>
            </li>
            <li><i class='bx bx-chevron-right'></i></li>
            <li>
                <a class="active" href="#">Chi tiết đơn hàng</a>
            </li>
        </ul>
    </div>
</div>

<div class="container ">
    
    @foreach( var item in ViewBag.orders)
    {
        <h1>Đơn hàng</h1>
        <p>Mã đơn hàng: @item.OrderId</p>
        <p>Ngày đặt hàng: @item.OrderDate</p>
        <p>Địa chỉ giao hàng: @item.ShipAddress</p>
        <p>Ghi chú: @item.Note</p>
    

    <h2>Chi tiết đơn hàng</h2>

    <div class="table-responsive">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>STT</th>
                    <th class="text-center">Ảnh sản phẩm</th>
                    <th>Tên sản phẩm</th>
                    <th>Màu sắc</th>
                    <th>Loại sản phẩm</th>
                    <th>Đơn giá</th>
                    <th>Số lượng</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                    @foreach (var orderItem in @item.Details)
                {
                    <tr>
                        <td>@i</td>
                            <td class="d-flex align-items-center justify-content-center">
                                <img class="w-25 h-25" src="@orderItem.ProductImage" alt="" />
                        </td>
                        <td>@orderItem.Name</td>
                        <td>@orderItem.ProductColor</td>
                        <td>@orderItem.ProductType</td>
                        <td>@orderItem.Price.ToString("N0")₫</td>
                        <td>@orderItem.Quantity</td>
                        <td>@orderItem.TotalMoney.ToString("N0")₫</td>
                    </tr>
                    sum += orderItem.TotalMoney;
                    i++;
                }
            </tbody>
        </table>
    </div>
 }

    <div class="text-right">
        <span>Tổng tiền: @sum.ToString("N0")₫</span>
    </div>


</div>
